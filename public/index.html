<!DOCTYPE html>
<html>
	<title>Checkie - Tool for Fraud Detection for Federal COntractors</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<body background="bk.jpg">


	<form name="fs" action="/" method="get" id="searchForm">
		Employer's Name: <input type="text" name="name"><br/>
		Employer's City: <input type="text" name="city"><br/>
		Employer's State: <input type="text" name="state"><br/>
		<input type="submit" value="Search">
	</form>

    <div id="result"></div>

    	<script type="text/javascript">

        $("#searchForm").submit(function(event) {
          /* stop form from submitting normally */
          event.preventDefault();

  				var promise = jQuery.ajax(
  				{
  					url: "/api/am_i_a_fraud",
  					data: {name: $("#searchForm").attr('name'), city: $("#searchForm").attr('city'), state: $("#searchForm").attr('state')}
  				});

          promise.success(

          function(data) {
            console.log(data);
                      // data is what the API returned
                      // in our case, it’s an object with one field “status” - {status: “found”}
                      // access that field with “data.status”
                      
              if ('found' == data.status) {
                console.log('found', data);
              }
              else if ('not_found' == data.status) {
               alert("they aren't in the database omg");
              }
              else if ('non_compliant' == data.status) {
                         console.log(data);
              }
           }
          )
        });
        </script>
    </body>
</html>





	</body>
</html>
